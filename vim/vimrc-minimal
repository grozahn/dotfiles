" Netrw toggle
let g:netrw_win = 0
let g:netrw_banner = 0
let g:netrw_liststyle = 3

function! NetrwToggle()
	if win_gotoid(g:netrw_win)
		:q
		let g:netrw_win = 0
	else
		:Lexplore 20
		let g:netrw_win = win_getid()
    endif
endfunction

nnoremap <F3> :call NetrwToggle()<CR>

" Terminal toggle
let g:term_buf = 0
let g:term_win = 0

function! TerminalToggle(height)
	if win_gotoid(g:term_win)
		hide
	else
		botright new
		exec "resize " . a:height
		try
			exec "buffer " . g:term_buf
		catch
			call termopen($SHELL, {"detach": 0})
			let g:term_buf = bufnr("")
		endtry
		startinsert!
		let g:term_win = win_getid()
	endif
endfunction

nnoremap <F4> :call TerminalToggle(10)<cr>
tnoremap <F4> <C-\><C-n>:call TerminalToggle(10)<cr>

" Common settings
set nocompatible
filetype off
filetype plugin on
filetype plugin indent on

" Encoding
set encoding=utf-8
set termencoding=utf-8

" Tabs
nnoremap <C-a> :tabprevious<CR>
nnoremap <C-d> :tabNext<CR>
nnoremap <C-t> :tabnew<CR>
nnoremap <C-s> :tabclose<CR>

" Tab key
set tabstop=4
set softtabstop=4
set shiftwidth=4
set noexpandtab

" Navigation
set cursorline
set number

" Style
syntax enable
colorscheme elflord
set background=dark
